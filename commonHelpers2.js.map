{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["\nconst STORAGE_KEY = \"feedback-form-state\";\nconst form = document.querySelector(\".feedback-form\");\n\n\n\n  // \"Function to check if all form fields are filled\"\n  function isFormFilled() {\n    const formData = new FormData(form);\n    return Array.from(formData.values()).every((value) => value.trim() !== \"\");\n  }\n  \n\ntry {\n  const initialForm = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  Array.from(form.elements).forEach((element) => {\n    const storedValue = initialForm[element.name];\n    if (storedValue) {\n      element.value = storedValue;\n    }\n  });\n} catch (error) {\n  console.log(\"parse error\");\n}\n\nform.addEventListener(\"input\", () => {\n  if (isFormFilled()) {\n    const formData = new FormData(form);\n    const formObject = {};\n\n    formData.forEach((value, key) => {\n      formObject[key] = value.trim();\n    });\n\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formObject));\n  } else {\n    localStorage.removeItem(STORAGE_KEY);\n  }\n});\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n\n  const emailInput = form.elements[\"email\"];\n  const messageInput = form.elements[\"message\"];\n\n\n  if (emailInput.checkValidity() && messageInput.checkValidity() && isFormFilled()) {\n    const formData = new FormData(form);\n    const formObject = {};\n\n    formData.forEach((value, key) => {\n      formObject[key] = value.trim();\n    });\n\n    console.log(\"Object form:\", formObject);\n\n    localStorage.removeItem(STORAGE_KEY);\n    form.reset();\n  } else {\n    alert (\"Enter your email and message, both input fields are mandatory\")\n  }\n});\n\n\n"],"names":["STORAGE_KEY","form","isFormFilled","formData","value","initialForm","element","storedValue","formObject","key","event","emailInput","messageInput"],"mappings":"wFACA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAKlD,SAASC,GAAe,CACtB,MAAMC,EAAW,IAAI,SAASF,CAAI,EAClC,OAAO,MAAM,KAAKE,EAAS,OAAM,CAAE,EAAE,MAAOC,GAAUA,EAAM,KAAM,IAAK,EAAE,CAC1E,CAGH,GAAI,CACF,MAAMC,EAAc,KAAK,MAAM,aAAa,QAAQL,CAAW,CAAC,EAEhE,MAAM,KAAKC,EAAK,QAAQ,EAAE,QAASK,GAAY,CAC7C,MAAMC,EAAcF,EAAYC,EAAQ,MACpCC,IACFD,EAAQ,MAAQC,EAEtB,CAAG,CACH,MAAE,CACA,QAAQ,IAAI,aAAa,CAC3B,CAEAN,EAAK,iBAAiB,QAAS,IAAM,CACnC,GAAIC,EAAY,EAAI,CAClB,MAAMC,EAAW,IAAI,SAASF,CAAI,EAC5BO,EAAa,CAAA,EAEnBL,EAAS,QAAQ,CAACC,EAAOK,IAAQ,CAC/BD,EAAWC,GAAOL,EAAM,KAAI,CAClC,CAAK,EAED,aAAa,QAAQJ,EAAa,KAAK,UAAUQ,CAAU,CAAC,CAChE,MACI,aAAa,WAAWR,CAAW,CAEvC,CAAC,EAEDC,EAAK,iBAAiB,SAAWS,GAAU,CACzCA,EAAM,eAAc,EAEpB,MAAMC,EAAaV,EAAK,SAAS,MAC3BW,EAAeX,EAAK,SAAS,QAGnC,GAAIU,EAAW,cAAe,GAAIC,EAAa,cAAa,GAAMV,IAAgB,CAChF,MAAMC,EAAW,IAAI,SAASF,CAAI,EAC5BO,EAAa,CAAA,EAEnBL,EAAS,QAAQ,CAACC,EAAOK,IAAQ,CAC/BD,EAAWC,GAAOL,EAAM,KAAI,CAClC,CAAK,EAED,QAAQ,IAAI,eAAgBI,CAAU,EAEtC,aAAa,WAAWR,CAAW,EACnCC,EAAK,MAAK,CACd,MACI,MAAO,+DAA+D,CAE1E,CAAC"}